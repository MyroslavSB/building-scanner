import{c as T,e as w,g as V,h as A,i as F,k as U}from"./chunk-ROWYVCHC.js";import{a as D}from"./chunk-YCQLNCBZ.js";import{a as R}from"./chunk-VQMHI6YC.js";import"./chunk-VPUI5ZKM.js";import{Da as _,Ga as m,Ia as e,Ja as i,Jb as E,N as h,Pa as M,Qa as S,S as u,T as k,Va as r,W as O,Wa as l,Ya as b,Za as x,_a as P,ab as v,ja as C,lb as y,ta as s,ua as f,wb as I}from"./chunk-ADDNN3XJ.js";var c=function(o){return o.VISITS="visits",o.ACHIEVEMENTS="achievements",o}(c||{});var N=(()=>{let t=class t extends R{constructor(n){super(n),this.http=n}getRankedUsers(n=c.VISITS){return this.httpGetRequest("/rankings/",{sortBy:n})}};t.\u0275fac=function(a){return new(a||t)(u(E))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();function q(o,t){if(o&1&&(e(0,"tr",6)(1,"td"),r(2),i(),e(3,"td"),r(4),i(),e(5,"td"),r(6),i(),e(7,"td"),r(8),i()()),o&2){let d=t.$implicit,n=t.index,a=S();s(2),l(n+1),s(2),l(d.username),s(2),l(d.email),s(2),l(a.rankingOption===a.rankingOptions.VISITS?d.visits_count:d.achievements_count)}}var et=(()=>{let t=class t{constructor(n,a){this.cdRef=n,this.rankingsAPI=a,this.destroyRef=k(C),this.rankingOptions=c,this.rankingOption=c.VISITS,this.users=[]}ngOnInit(){this.getRankedUsers()}onSelectOptionPick(n){this.rankingOption=n,this.getRankedUsers()}getRankedUsers(){this.rankingsAPI.getRankedUsers(this.rankingOption).pipe(D(this.destroyRef)).subscribe(n=>{this.users=n,this.cdRef.detectChanges()})}get columnTitle(){return this.rankingOption===this.rankingOptions.VISITS?"Visits count":"Achievements count"}};t.\u0275fac=function(a){return new(a||t)(f(y),f(N))},t.\u0275cmp=O({type:t,selectors:[["app-rankings-page"]],standalone:!0,features:[v],decls:26,vars:5,consts:[[1,"rankings-page"],[1,"rankings-page__title","heading-1"],[1,"medium",2,"margin-bottom","16px"],[1,"medium",3,"ngModelChange","ngModel"],[3,"value"],[1,"table-container"],[1,"medium"],["class","medium",4,"ngFor","ngForOf"]],template:function(a,g){a&1&&(e(0,"div",0)(1,"h1",1),r(2,"User Rankings"),i(),e(3,"p",2),r(4,"Choose property by which you want to sort players"),i(),e(5,"select",3),P("ngModelChange",function(p){return x(g.rankingOption,p)||(g.rankingOption=p),p}),M("ngModelChange",function(p){return g.onSelectOptionPick(p)}),e(6,"title"),r(7,"Sort by:"),i(),e(8,"option",4),r(9,"Visits"),i(),e(10,"option",4),r(11,"Achievements"),i()(),e(12,"div",5)(13,"table")(14,"thead")(15,"tr",6)(16,"th"),r(17,"Rank"),i(),e(18,"th"),r(19,"Username"),i(),e(20,"th"),r(21,"Email"),i(),e(22,"th"),r(23),i()()(),e(24,"tbody"),_(25,q,9,4,"tr",7),i()()()()),a&2&&(s(5),b("ngModel",g.rankingOption),s(3),m("value",g.rankingOptions.VISITS),s(2),m("value",g.rankingOptions.ACHIEVEMENTS),s(13),l(g.columnTitle),s(2),m("ngForOf",g.users))},dependencies:[I,U,A,F,V,T,w],styles:[".rankings-page[_ngcontent-%COMP%]{padding:20px;background-color:#f8f9fb;color:#151515;height:100%;overflow-y:hidden}.rankings-page__title[_ngcontent-%COMP%]{margin-bottom:24px}.rankings-page[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;max-height:100%;overflow:auto;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px 20px 60px}.rankings-page[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.rankings-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;transition:.3s ease-in}.rankings-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rankings-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}.rankings-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#695fe4;color:#fff}.rankings-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff}.rankings-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f6f5ff}"],changeDetection:0});let o=t;return o})();export{et as RankingsPageComponent};
